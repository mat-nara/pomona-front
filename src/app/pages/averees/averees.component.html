<div class="container-fluid">
    <div class="row mb-4 align-items-center">
        <div class="col-sm-6">
            <div class="page-title-box p-0">
                <h4 class="mb-0 font-size-18">Anomalies avérées</h4>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-xl-5">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <label class="col-md-auto col-form-label text-muted" style="font-size: 110%">
                            Motif: </label>
                        <div class="col-md">
                            <select class="form-select">
                                <option>Tous</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-5 d-flex">
                    <div class="card mini-stats-wid flex-fill">
                        <div class="card-body">
                            <div class="media" style="height: 100%;">
                                <div class="media-body text-center"
                                    style="height: 100%; display: flex; flex-direction: column; justify-content: space-around;">
                                    <p class="text-muted" style="font-size: 150%; font-weight: bold;">Anomalies
                                        détectées</p>
                                    <h4 class="mb-0" style="font-size: 200%;">23</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-7 d-flex">
                    <div class="card mini-stats-wid flex-fill">
                        <div class="card-body">
                            <div class="row d-flex align-items-center" style="height: 100%;">
                                <div class="col-xl-5">
                                    <p class="text-muted text-center mb-0" style="font-size: 200%; height: 100%;">Etat
                                    </p>
                                </div>
                                <div class="col-xl-7 d-flex flex-column justify-content-around" style="height: 100%;">
                                    <div class="form-check form-radio-outline form-radio-success">
                                        <input class="form-check-input" type="radio" name="formRadio2" id="formRadio2"
                                            checked>
                                        <label class="form-check-label text-muted" for="formRadio2">
                                            Tous
                                        </label>
                                    </div>
                                    <div class="form-check form-radio-outline form-radio-success">
                                        <input class="form-check-input" type="radio" name="formRadio2" id="formRadio3"
                                            checked>
                                        <label class="form-check-label text-muted" for="formRadio3">
                                            Contrôlés
                                        </label>
                                    </div>
                                    <div class="form-check form-radio-outline form-radio-success">
                                        <input class="form-check-input" type="radio" name="formRadio2" id="formRadio4"
                                            checked>
                                        <label class="form-check-label text-muted" for="formRadio4">
                                            Non contrôlés
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <h4 class="card-title mb-4">Liste des bulletins</h4>

                    <div class="table-responsive">
                        <table class="table mb-0">
                            <thead class="table-light">
                                <tr>
                                    <th>Matricule</th>
                                    <th>Période</th>
                                    <th>Contrat</th>
                                    <th>Bulletin</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of tableData">
                                    <th>{{item.matricule}}</th>
                                    <th>{{item.periode}}</th>
                                    <td>{{item.contrat}}</td>
                                    <td>{{item.bulletin}}</td>
                                    <td>
                                        <div ngbDropdown placement="bottom-left" style="cursor: pointer;">
                                            <i class="mdi mdi-dots-vertical dropdown-toggle font-size-20"
                                                ngbDropdownToggle data-toggle="dropdown" aria-expanded="true"></i>
                                            <div class="dropdown-menu dropdown-menu-end" ngbDropdownMenu>
                                                <a class="dropdown-item">
                                                    <i class="bx bx-show text-info font-size-20"></i>
                                                    Voir les détails
                                                </a>
                                                <a class="dropdown-item">
                                                    <i class="bx bx-edit text-success font-size-20"></i>
                                                    Editer le bulletin
                                                </a>
                                                <a class="dropdown-item">
                                                    <i class="bx bx-check text-success font-size-20"></i>
                                                    Annoter le bulletin
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-7 d-flex">
            <div class="card flex-fill">
                <div class="card-body d-flex flex-column justify-content-md-between">
                    <div class="row mb-3 align-items-center">
                            <h4 class="card-title mb-0">Bulletin de paie courant</h4>
                    </div>
                    <div class="table-responsive" style="height: 400px;">
                        <table class="table table-centered table-nowrap">
                            <thead class="table-light">
                                <tr>
                                    <th>Matricule</th>
                                    <th>Statut</th>
                                    <th>Bulletin</th>
                                    <th>Catégorie</th>
                                    <th>Libellé</th>
                                    <th>Base</th>
                                    <th>T1</th>
                                    <th>M1</th>
                                    <th>T2</th>
                                    <th>M2</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let table of tables$ | async">
                                    <th>{{table.matricule}}</th>
                                    <th>{{table.statut}}</th>
                                    <td>{{table.bulletin}}</td>
                                    <td>{{table.categorie}}</td>
                                    <td>{{table.libelle}}</td>
                                    <td>{{table.base}}</td>
                                    <td>{{table.t1}}</td>
                                    <td>{{table.m1}}</td>
                                    <td>{{table.t2}}</td>
                                    <td>{{table.m2}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row justify-content-md-between align-items-md-center mt-2">
                        <div class="col-sm-12 col-md-5">
                            <div class="dataTables_info" id="tickets-table_info" role="status" aria-live="polite">
                                <span *ngIf="service.totalRecords == 0">
                                    Affichage de {{ service.startIndex }} à {{ service.endIndex }} sur {{
                                    service.totalRecords }} lignes
                                </span>
                                <span *ngIf="service.totalRecords != 0">
                                    Affichage de {{ service.startIndex + 1 }} à {{ service.endIndex }} sur {{
                                    service.totalRecords }} lignes
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-5">
                            <div class="text-md-right float-md-end pagination-rounded">
                                <ngb-pagination [collectionSize]="total$ | async" [(page)]="service.page"
                                    [pageSize]="service.pageSize" maxSize="3" rotate="true"></ngb-pagination>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card-body d-flex flex-column justify-content-md-between">
                    <div class="row mb-3 align-items-center">
                            <h4 class="card-title mb-0">Vue mensuelle</h4>
                    </div>
                    <div class="table-responsive" style="height: 400px;">
                        <table class="table table-centered table-nowrap">
                            <thead class="table-light">
                                <tr>
                                    <th>Libellé</th>
                                    <th>2021-01</th>
                                    <th>2021-02</th>
                                    <th>2021-03</th>
                                    <th>2021-04</th>
                                    <th>2021-05</th>
                                    <th>2021-06</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let table of tables$ | async">
                                    <th>{{table.libelle}}</th>
                                    <th>{{table.statut}}</th>
                                    <td>{{table.bulletin}}</td>
                                    <td>{{table.categorie}}</td>
                                    <td>{{table.libelle}}</td>
                                    <td>{{table.base}}</td>
                                    <td>{{table.t1}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row justify-content-md-between align-items-md-center mt-2">
                        <div class="col-sm-12 col-md-5">
                            <div class="dataTables_info" id="tickets-table_info" role="status" aria-live="polite">
                                <span *ngIf="service.totalRecords == 0">
                                    Affichage de {{ service.startIndex }} à {{ service.endIndex }} sur {{
                                    service.totalRecords }} lignes
                                </span>
                                <span *ngIf="service.totalRecords != 0">
                                    Affichage de {{ service.startIndex + 1 }} à {{ service.endIndex }} sur {{
                                    service.totalRecords }} lignes
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-5">
                            <div class="text-md-right float-md-end pagination-rounded">
                                <ngb-pagination [collectionSize]="total$ | async" [(page)]="service.page"
                                    [pageSize]="service.pageSize" maxSize="3" rotate="true"></ngb-pagination>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>